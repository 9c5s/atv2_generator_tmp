import{a as Xt,b as st,c as Zt,d as nt,e as te,f as ee}from"./chunk-2PK7G26J.js";import{a as tt}from"./chunk-BVRIVI36.js";import{a as $t}from"./chunk-LJUQJ5BL.js";import{a as Ut,b as Ht}from"./chunk-ZPPKZYT3.js";import{a as jt}from"./chunk-ESNIDSRU.js";import{d as Vt,e as Nt,f as qt,j as lt,m as Wt,n as et,q as Jt}from"./chunk-JIHS3ZDA.js";import"./chunk-LLO25EU3.js";import"./chunk-TZWJ3GWP.js";import"./chunk-RIUV53M2.js";import{a as wt,c as Qt}from"./chunk-6BQ47HOA.js";import"./chunk-DWXVPHLE.js";import{a as Z}from"./chunk-Q3ZDF7N3.js";import{a as Lt,b as Rt}from"./chunk-GQ2Y3PYG.js";import"./chunk-JG7F4BOX.js";import"./chunk-JSBJBRQD.js";import"./chunk-XH3XDIPR.js";import"./chunk-FOLYN2CC.js";import{c as Kt,l as Yt}from"./chunk-AWGLQW6G.js";import{d as Bt,e as Ft,h as At,m as It}from"./chunk-I3RHSA6D.js";import"./chunk-KLXVAUUB.js";import{A as zt}from"./chunk-KZ3A2NRO.js";import{c as Gt}from"./chunk-UZVF6O5E.js";import{a as B}from"./chunk-DBRRJBUZ.js";import"./chunk-ZNRADN3H.js";import{i as it}from"./chunk-264EOGRT.js";import{$a as n,Aa as l,Ab as H,Bb as Tt,C as pt,Cb as O,Cc as U,E as mt,Eb as f,Hb as D,Hc as Pt,Ib as E,Jb as W,K as gt,Kb as Mt,L as Ct,La as q,Pb as Y,Qa as p,Qc as St,R as rt,Rb as y,Sa as m,Sc as Ot,Ta as _t,Ua as F,Va as kt,Vc as J,Wa as d,Xa as $,Xc as X,Y as ft,Ya as z,Za as L,_ as h,_a as a,_c as Et,ab as g,ac as R,ba as C,bb as xt,cb as vt,eb as w,fc as G,gb as P,gc as Q,h as ut,ib as u,ic as k,jb as j,ka as T,kb as K,la as M,ra as S,rb as ht,ta as A,tb as c,ub as _,v as dt,vb as ct,xb as bt,ya as I,yb as yt,zb as Dt}from"./chunk-I424EGRW.js";var he=[[["tpl-tab-item"]]],be=["tpl-tab-item"],ot=(()=>{let e=class e{get tabClass(){return[`color-${this.color}`,`position-${this.position}`]}constructor(){this.color="primary",this.position="left",this.ngControl=h(Bt,{self:!0}),this.cdRef=h(Y),this.onTouchedCallback=()=>{},this.onChangeCallback=()=>{},this.ngControl.valueAccessor=this}writeValue(o){this.activeKey=o,this.onChangeCallback(this.activeKey),this.cdRef.markForCheck()}registerOnChange(o){this.onChangeCallback=o}registerOnTouched(o){this.onTouchedCallback=o}setDisabledState(o){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=C({type:e,selectors:[["tpl-tab-group"]],inputs:{color:"color",position:"position"},standalone:!0,features:[f],ngContentSelectors:be,decls:2,vars:1,consts:[[1,"tabs",3,"ngClass"]],template:function(r,s){r&1&&(j(he),a(0,"div",0),K(1),n()),r&2&&m("ngClass",s.tabClass)},dependencies:[k,R],styles:[".tabs[_ngcontent-%COMP%]{display:flex}.tabs.position-center[_ngcontent-%COMP%]{justify-content:center}.tabs.position-right[_ngcontent-%COMP%]{justify-content:flex-end}"],changeDetection:0});let t=e;return t})();var ye=["*"],ne=(()=>{let e=class e{constructor(){this.isActive=!1,this.group=h(ot,{optional:!0}),this.cdRef=h(Y)}ngOnInit(){}ngDoCheck(){let o=this.getActive();o!==this.isActive&&(this.isActive=o,this.cdRef.markForCheck())}getActive(){return this.group?.activeKey===this.key}writeValue(){this.group?.writeValue(this.key)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=C({type:e,selectors:[["tpl-tab-item"]],hostVars:2,hostBindings:function(r,s){r&2&&F("active",s.isActive)},inputs:{key:"key"},standalone:!0,features:[f],ngContentSelectors:ye,decls:2,vars:2,consts:[["tbxTouchable","",1,"tab",3,"click"]],template:function(r,s){r&1&&(j(),a(0,"div",0),P("click",function(){return s.writeValue()}),K(1),n()),r&2&&F("is-active",s.isActive)},dependencies:[k,Pt],styles:['[_nghost-%COMP%]{--padding: 12px 2px;margin-left:24px}[_nghost-%COMP%]:first-child{margin-left:0}.color-primary[_nghost-%COMP%], .color-primary   [_nghost-%COMP%]{--color: var(--tpl-color-primary);--color-rgb: var(--tpl-color-primary-rgb);--color-tint: var(--tpl-color-primary-tint);--color-shade: var(--tpl-color-primary-shade);--contrast: var(--tpl-color-primary-contrast)}.color-accent[_nghost-%COMP%], .color-accent   [_nghost-%COMP%]{--color: var(--tpl-color-accent);--color-rgb: var(--tpl-color-accent-rgb);--color-tint: var(--tpl-color-accent-tint);--color-shade: var(--tpl-color-accent-shade);--contrast: var(--tpl-color-accent-contrast)}.color-attention[_nghost-%COMP%], .color-attention   [_nghost-%COMP%]{--color: var(--tpl-color-attention);--color-rgb: var(--tpl-color-attention-rgb);--color-tint: var(--tpl-color-attention-tint);--color-shade: var(--tpl-color-attention-shade);--contrast: var(--tpl-color-attention-contrast)}.color-basic[_nghost-%COMP%], .color-basic   [_nghost-%COMP%]{--color: var(--tpl-color-text);--color-rgb: var(--tpl-color-text-rgb);--color-tint: var(--tpl-color-text-tint);--color-shade: var(--tpl-color-text-shade);--contrast: var(--tpl-color-text-contrast)}.color-basic-light[_nghost-%COMP%], .color-basic-light   [_nghost-%COMP%]{--color: var(--tpl-color-text-light);--color-rgb: var(--tpl-color-text-light-rgb);--color-tint: var(--tpl-color-text-light-tint);--color-shade: var(--tpl-color-text-light-shade);--contrast: var(--tpl-color-text-light-contrast)}.tab[_ngcontent-%COMP%]{color:var(--tpl-color-text-light);cursor:pointer;display:inline-block;padding:var(--padding);transition:all .15s ease;-webkit-user-select:none;user-select:none}.tab[_ngcontent-%COMP%]:hover, .tab[_ngcontent-%COMP%]:active, .tab.activated[_ngcontent-%COMP%]{opacity:.7}.is-active[_ngcontent-%COMP%]{color:var(--tpl-color-text);font-weight:700;position:relative}.is-active[_ngcontent-%COMP%]:after{animation:_ngcontent-%COMP%_from-bottom .2s ease;background:var(--color);bottom:0;content:"";height:3px;left:0;position:absolute;width:100%}@keyframes _ngcontent-%COMP%_from-bottom{0%{opacity:0;transform:translateY(4px)}to{opacity:1;transform:translateY(0)}}'],changeDetection:0});let t=e;return t})();function V(t,e){let i=lt(t),o=lt(e);return+i==+o}var oe=new ft("snapshotMode",{factory:()=>!1});function De(t,e){if(t&1&&(a(0,"a",3),c(1," \u30AA\u30D5\u30A3\u30B7\u30E3\u30EB\u30A2\u30D7\u30EA\u306F\u3053\u3061\u3089 "),n()),t&2){let i=u();m("href",i.officialAppLink,I)}}var ae=(()=>{let e=class e{constructor(){this.config=h(Gt)}get officialAppLink(){return this.config.officialAppLink}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=C({type:e,selectors:[["tpl-caravan-viewer-content"]],standalone:!0,features:[f],decls:6,vars:1,consts:[[1,"ticket-different-viewer"],[1,"ticket-different-viewer-text"],[1,"ticket-different-viewer-note"],["tpl-button","","target","_blank","color","accent","width","auto","icon","external-link",1,"ticket-different-viewer-link",3,"href"]],template:function(r,s){r&1&&(a(0,"div",0)(1,"p",1),c(2," \u30AA\u30D5\u30A3\u30B7\u30E3\u30EB\u30A2\u30D7\u30EA\u3092\u5229\u7528\u3057\u3001\u5165\u5834\u6642\u306F\u30A2\u30D7\u30EA\u5185\u3067QR\u30B3\u30FC\u30C9\u304C\u8868\u793A\u3055\u308C\u305F\u30C1\u30B1\u30C3\u30C8\u3092\u63D0\u793A\u3057\u3066\u304F\u3060\u3055\u3044\u3002 "),n(),a(3,"div",2),c(4,"\u203B\u3053\u306E\u753B\u9762\u3092\u304A\u6301\u3061\u3044\u305F\u3060\u3044\u3066\u3082\u3054\u5165\u5834\u3067\u304D\u307E\u305B\u3093\u3002"),n(),p(5,De,2,1,"a",3),n()),r&2&&(l(5),d(s.officialAppLink?5:-1))},dependencies:[B],styles:["[_nghost-%COMP%]{display:block}.ticket-different-viewer[_ngcontent-%COMP%]{align-items:center;box-sizing:border-box;color:var(--tpl-color-text-light);display:flex;flex-direction:column;justify-content:center;min-height:250px;padding:20px 0 32px}.ticket-different-viewer-text[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:700}.ticket-different-viewer-note[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:500;margin-top:16px}.ticket-different-viewer-link[_ngcontent-%COMP%]{margin-top:16px}"],changeDetection:0});let t=e;return t})();var at=(()=>{let e=class e{constructor(){this.date=q(tt(new Date)),this.hour=y(()=>new Date(this.date()).getHours().toString().padStart(2,"0")),this.minute=y(()=>new Date(this.date()).getMinutes().toString().padStart(2,"0")),this.second=y(()=>new Date(this.date()).getSeconds().toString().padStart(2,"0")),this.day=y(()=>new Date(this.date()).getDate().toString().padStart(2,"0")),this.month=y(()=>(new Date(this.date()).getMonth()+1).toString().padStart(2,"0")),this.year=y(()=>new Date(this.date()).getFullYear().toString()),this.progress=q(0),this.blinkingState=q(!1),this.animationRef=0,this.snapshotMode=h(oe),this.onDestroy$=new A,this.date$=pt(0,250).pipe(dt(()=>new Date().setMilliseconds(0)),Ct())}ngOnInit(){this.snapshotMode?(this.progress.set(-80),this.date.set(tt(new Date("2016-07-15T09:21:02")))):(this.animationRef=requestAnimationFrame(()=>this.updateProgress()),this.date$.pipe(rt(this.onDestroy$)).subscribe(o=>{this.date.set(tt(o))}),mt(this.date$,this.date$.pipe(gt(500))).pipe(rt(this.onDestroy$)).subscribe(()=>{this.blinkingState.update(o=>!o)}))}ngOnDestroy(){this.onDestroy$.emit(),cancelAnimationFrame(this.animationRef)}updateProgress(){let o=new Date,s=(o.getSeconds()%20*1e3+o.getMilliseconds())/19999*200-100;this.progress.set(s),this.animationRef=requestAnimationFrame(()=>this.updateProgress())}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=C({type:e,selectors:[["tpl-digital-ticket-clock"]],standalone:!0,features:[f],decls:25,vars:10,consts:[[1,"clock"],[1,"time"],[1,"hour","time-item"],[1,"divider"],[1,"minute","time-item"],[1,"second","time-item"],[1,"date"],[1,"year"],[1,"month"],[1,"day"],[1,"clock-progress"],[1,"clock-progress-bar"]],template:function(r,s){r&1&&(a(0,"div",0)(1,"div",1)(2,"div",2),c(3),n(),a(4,"div",3),c(5,":"),n(),a(6,"div",4),c(7),n(),a(8,"div",3),c(9,":"),n(),a(10,"div",5),c(11),n()(),a(12,"div",6)(13,"div",7),c(14),n(),a(15,"div",3),c(16,"/"),n(),a(17,"div",8),c(18),n(),a(19,"div",3),c(20,"/"),n(),a(21,"div",9),c(22),n()(),a(23,"div",10),g(24,"div",11),n()()),r&2&&(F("blink",s.blinkingState()),l(3),_(s.hour()),l(4),_(s.minute()),l(4),_(s.second()),l(3),_(s.year()),l(4),_(s.month()),l(4),_(s.day()),l(2),_t("left",s.progress(),"%"))},styles:['[_nghost-%COMP%]{display:block;width:100%}.clock[_ngcontent-%COMP%]{align-self:stretch;background-color:var(--tpl-color-primary);letter-spacing:.02em;margin:-16px;padding:16px 0 0;position:relative}.clock.blink[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{opacity:1}.clock-progress[_ngcontent-%COMP%]{background-color:rgba(var(--tpl-color-primary-contrast-rgb),.2);height:7px;margin-top:14px;overflow:hidden;position:relative;width:100%}.clock-progress-bar[_ngcontent-%COMP%]{background-color:rgba(var(--tpl-color-primary-contrast-rgb),.75);bottom:0;height:100%;left:0;position:absolute;width:100%}.time[_ngcontent-%COMP%]{align-items:center;animation:_ngcontent-%COMP%_appear .5s ease-out;color:var(--tpl-color-primary-contrast);display:flex;font-family:var(--tpl-number-font-family);font-size:35px;font-weight:600;justify-content:center;line-height:1}.time[_ngcontent-%COMP%]   .time-item[_ngcontent-%COMP%]{font-feature-settings:"tnum";min-width:1.2em;text-align:center}.time[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{font-size:.8em;margin:0 2px;opacity:.2;transition:opacity .05s linear}.time[_ngcontent-%COMP%]:before{content:"";left:0;position:absolute;top:0}.date[_ngcontent-%COMP%]{color:rgba(var(--tpl-color-primary-contrast-rgb),.75);display:flex;font-family:var(--tpl-number-font-family);font-size:19px;font-weight:600;justify-content:center;line-height:1;margin-top:4px}@keyframes _ngcontent-%COMP%_appear{0%{opacity:0}to{opacity:1}}'],changeDetection:0});let t=e;return t})();function Te(t,e){t&1&&(a(0,"div",0),c(1,"\u5206\u914D\u4E0D\u53EF"),n())}function Me(t,e){t&1&&(a(0,"div",1),c(1,"\u672A\u5206\u914D"),n())}var re=(()=>{let e=class e{constructor(){this.digitalTicket=S.required(),this.size=S("regular")}get tagClass(){return[`size-${this.size()}`]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=C({type:e,selectors:[["tpl-digital-ticket-distribution-tag"]],hostVars:2,hostBindings:function(r,s){r&2&&kt(s.tagClass)},inputs:{digitalTicket:[1,"digitalTicket"],size:[1,"size"]},standalone:!0,features:[f],decls:3,vars:1,consts:[[1,"tag","ticket-distribution-can-not"],[1,"tag","ticket-distribution-should"]],template:function(r,s){if(r&1&&(H(0),p(1,Te,2,0,"div",0)(2,Me,2,0,"div",1)),r&2){let x=s.digitalTicket();l(),d(x.distributionDirective==="can_not"?1:x.distributionDirective==="should"?2:-1)}},styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]:empty{display:none}.size-regular[_nghost-%COMP%]{--font-size: 1.4rem;--padding: 4px 16px;--border-width: 2px}.size-large[_nghost-%COMP%]{--font-size: 1.7rem;--padding: 3px 24px;--border-width: 3px}.tag[_ngcontent-%COMP%]{display:inline-block;font-size:var(--font-size);font-weight:700;padding:var(--padding)}.ticket-distribution-can-not[_ngcontent-%COMP%]{border:var(--border-width) solid var(--tpl-color-border);color:var(--tpl-color-text-light)}.ticket-distribution-should[_ngcontent-%COMP%]{border:var(--border-width) solid var(--tpl-color-primary);color:var(--tpl-color-primary)}"],changeDetection:0});let t=e;return t})();var ce=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=C({type:e,selectors:[["tpl-digital-ticket-sqrc-image"]],inputs:{sqrcUrl:"sqrcUrl"},standalone:!0,features:[f],decls:3,vars:1,consts:[[1,"container"],["alt","\u30C1\u30B1\u30C3\u30C8",1,"sqrc-image",3,"src"]],template:function(r,s){r&1&&(g(0,"tpl-digital-ticket-clock"),a(1,"div",0),g(2,"img",1),n()),r&2&&(l(2),m("src",s.sqrcUrl,I))},dependencies:[k,at],styles:["[_nghost-%COMP%]{display:block;width:100%}.container[_ngcontent-%COMP%]{margin:40px auto 8px;max-width:180px}.sqrc-image[_ngcontent-%COMP%]{background:#fff;height:100%;image-rendering:pixelated;image-rendering:crisp-edges;width:100%}"],changeDetection:0});let t=e;return t})();function Pe(t,e){if(t&1&&(a(0,"span",6),c(1),n()),t&2){let i=e.$implicit;l(),_(i)}}function Se(t,e){if(t&1&&(a(0,"tpl-info-list-item")(1,"div",3),c(2,"\u4F01\u696D\u30B3\u30FC\u30C9"),n(),a(3,"div",4)(4,"span",5),c(5),n()()(),a(6,"tpl-info-list-item")(7,"div",3),c(8,"\u5F15\u304D\u63DB\u3048\u756A\u53F7"),n(),a(9,"div",4)(10,"span",5),z(11,Pe,2,1,"span",6,$),n()()()),t&2){let i=u();l(5),_(e.companyCode),l(6),L(i.readableNumberParts())}}var le=(()=>{let e=class e{constructor(){this.digitalTicket=S.required(),this.entity=y(()=>{let o=this.digitalTicket();return o.entity?.ticketEntityKind==="fami_pass"?o.entity:null}),this.readableNumberParts=y(()=>{let o=this.entity()?.redemptionNumber;return o?o.match(/(.{1,4})/g):""})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=C({type:e,selectors:[["tpl-fami-pass-content"]],inputs:{digitalTicket:[1,"digitalTicket"]},standalone:!0,features:[f],decls:10,vars:1,consts:[[1,"note"],[1,"title"],["tpl-link","","href","https://www.family.co.jp/services/ticket/ticketreserve.html","target","_blank",1,"fami-pass-link"],["slot","header"],["slot","content"],[1,"number"],[1,"number-part"]],template:function(r,s){if(r&1&&(a(0,"p",0)(1,"b",1),c(2,"\u30D5\u30A1\u30DF\u30EA\u30FC\u30DE\u30FC\u30C8\u3067\u306E\u53D7\u53D6"),n(),g(3,"br"),c(4," \u30D5\u30A1\u30DF\u30EA\u30FC\u30DE\u30FC\u30C8\u5E97\u982D\u306E\u7AEF\u672B\u306B\u3066\u4EE5\u4E0B\u306E\u60C5\u5831\u3092\u3054\u5165\u529B\u304F\u3060\u3055\u3044\u3002 "),g(5,"br"),a(6,"a",2),c(7," \u30D5\u30A1\u30DF\u30EA\u30FC\u30DE\u30FC\u30C8\u3067\u306E\u304A\u53D7\u53D6\u308A\u306E\u8A73\u7D30\u306F\u3053\u3061\u3089 "),n()(),a(8,"tpl-info-list"),p(9,Se,13,1),n()),r&2){let x;l(9),d((x=s.entity())?9:-1,x)}},dependencies:[Nt,Vt,qt],styles:["[_nghost-%COMP%]{display:block}.title[_ngcontent-%COMP%]{display:inline-block;font-size:1.6rem;font-weight:700;margin-bottom:12px}.number[_ngcontent-%COMP%]{font-size:20px;font-weight:600;letter-spacing:.05em}.number-part[_ngcontent-%COMP%]{display:inline-block}.number-part[_ngcontent-%COMP%] + .number-part[_ngcontent-%COMP%]{margin-left:.5em}.note[_ngcontent-%COMP%]{font-size:1.4rem;margin-bottom:16px}.fami-pass-link[_ngcontent-%COMP%]{padding:8px 0}"],changeDetection:0});let t=e;return t})();function Oe(t,e){t&1&&(a(0,"div",3)(1,"a",5),c(2," \u30C1\u30B1\u30C3\u30C8\u3092\u8868\u793A\u3059\u308B "),n()()),t&2&&(l(),m("href",e.url,I))}function Ee(t,e){t&1&&(a(0,"div",4),c(1," \u203B\u672C\u30DA\u30FC\u30B8\u304B\u3089\u306F\u5206\u914D\u3067\u304D\u307E\u305B\u3093\u3002\u5206\u914D\u304C\u5FC5\u8981\u306A\u5834\u5408\u306FMOALA Ticket\u4E0A\u3067\u5206\u914D\u3092\u304A\u3053\u306A\u3063\u3066\u304F\u3060\u3055\u3044\u3002 "),g(2,"br"),c(3," \u203B\u5206\u914D\u306B\u95A2\u3057\u3066\u306E\u8A73\u7D30\u306FMOALA Ticket\u306B\u3066\u3054\u78BA\u8A8D\u304F\u3060\u3055\u3044\u3002 "),n())}var se=(()=>{let e=class e{constructor(){this.digitalTicket=S.required(),this.entity=y(()=>{let o=this.digitalTicket();return o.entity?.ticketEntityKind==="moala_ticket"?o.entity:null})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=C({type:e,selectors:[["tpl-moala-ticket-content"]],inputs:{digitalTicket:[1,"digitalTicket"]},standalone:!0,features:[f],decls:7,vars:2,consts:[[1,"section"],[1,"title"],[1,"note"],[1,"action"],[1,"info"],["tpl-button","","target","_blank","rel","noopener noreferrer",1,"moala-ticket-button",3,"href"]],template:function(r,s){if(r&1&&(a(0,"div",0)(1,"div",1),c(2,"MOALA Ticket \u3067\u306E\u53D7\u53D6"),n(),a(3,"div",2),c(4," \u672C\u516C\u6F14\u306E\u96FB\u5B50\u30C1\u30B1\u30C3\u30C8\u306F MOALA Ticket \u3092\u4F7F\u7528\u3057\u3066\u3044\u307E\u3059\u3002\u30C1\u30B1\u30C3\u30C8\u3092\u8868\u793A\u3059\u308B\u306B\u306F\u3001 \u4EE5\u4E0B\u306E\u30DC\u30BF\u30F3\u3092\u62BC\u3057\u3066 MOALA Ticket \u3092\u958B\u3044\u3066\u304F\u3060\u3055\u3044\u3002 "),n()(),p(5,Oe,3,1,"div",3)(6,Ee,4,0,"div",4)),r&2){let x;l(5),d((x=s.entity())?5:-1,x),l(),d(s.digitalTicket().distributionDirective==="can_not"?6:-1)}},dependencies:[B],styles:["[_nghost-%COMP%]{display:block}.title[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:700;margin-bottom:12px}.note[_ngcontent-%COMP%]{font-size:1.4rem}.action[_ngcontent-%COMP%]{margin-top:16px;text-align:center}.moala-ticket-button[_ngcontent-%COMP%]{box-shadow:0 3px 6px #00000026}.info[_ngcontent-%COMP%]{font-size:1.4rem;margin-top:24px}"],changeDetection:0});let t=e;return t})();function we(t,e){t&1&&(a(0,"div",1)(1,"div",9),c(2,"\u516C\u6F14\u306F\u7D42\u4E86\u3057\u3066\u3044\u307E\u3059"),n()())}function Be(t,e){t&1&&(a(0,"div",1)(1,"div",10),c(2,"\u30EA\u30BB\u30FC\u30EB\u51FA\u54C1\u4E2D"),n(),a(3,"div",11),c(4,"\u30EA\u30BB\u30FC\u30EB\u51FA\u54C1\u4E2D\u306F\u8868\u793A\u3055\u308C\u307E\u305B\u3093"),n()())}function Fe(t,e){t&1&&(a(0,"div",11),c(1,"\u540C\u884C\u8005\u306B\u30C1\u30B1\u30C3\u30C8\u5206\u914DURL\u3092\u5171\u6709\u3057\u3066\u304F\u3060\u3055\u3044"),n(),a(2,"div",11),c(3,"\u30C1\u30B1\u30C3\u30C8\u3092\u8868\u793A\u3059\u308B\u5834\u5408\u306F\u3001\u5206\u914D\u306E\u53D6\u308A\u6D88\u3057\u3092\u884C\u3063\u3066\u304F\u3060\u3055\u3044"),n())}function Ae(t,e){t&1&&(a(0,"div",11),c(1,"\u540C\u884C\u8005\u306B\u30C1\u30B1\u30C3\u30C8\u5206\u914DURL\u3092\u5171\u6709\u3057\u3066\u304F\u3060\u3055\u3044"),n())}function Ie(t,e){if(t&1&&(a(0,"div",1)(1,"div",10),c(2,"\u30C1\u30B1\u30C3\u30C8\u5206\u914D\u4E2D"),n(),p(3,Fe,4,0)(4,Ae,2,0,"div",11),n()),t&2){u();let i=O(0);l(3),d(i.distributionDirective==="can"&&i.entity&&i.entity.ticketEntityKind==="qkeys"&&i.entity.viewer==="triple"?3:4)}}function ze(t,e){t&1&&(a(0,"div",1)(1,"div",10),c(2,"\u3053\u306E\u30C1\u30B1\u30C3\u30C8\u306F\u5206\u914D\u304C\u5FC5\u8981\u3067\u3059"),n(),a(3,"div",11),c(4,"\u540C\u884C\u8005\u3078\u30C1\u30B1\u30C3\u30C8\u3092\u5206\u914D\u3057\u3066\u304F\u3060\u3055\u3044"),n()())}function Le(t,e){if(t&1&&(a(0,"div",14),g(1,"tpl-digital-ticket-sqrc-image",15)(2,"tpl-digital-ticket-distribution-tag",16),n()),t&2){u(3);let i=O(0);l(),m("sqrcUrl",i.entity.sqrcUrl),l(),m("digitalTicket",i)}}function Re(t,e){t&1&&g(0,"tpl-caravan-viewer-content")}function Ue(t,e){if(t&1&&p(0,Le,3,2,"div",14)(1,Re,1,0,"tpl-caravan-viewer-content"),t&2){u(2);let i=O(0);d(i.entity.viewer==="triple"?0:i.entity.viewer==="caravan"?1:-1)}}function Ve(t,e){if(t&1&&g(0,"tpl-fami-pass-content",12),t&2){u(2);let i=O(0);m("digitalTicket",i)}}function Ne(t,e){if(t&1&&g(0,"tpl-moala-ticket-content",12),t&2){u(2);let i=O(0);m("digitalTicket",i)}}function qe(t,e){if(t&1&&(a(0,"div",13),g(1,"tpl-digital-ticket-clock")(2,"tpl-digital-ticket-distribution-tag",16),n()),t&2){u(2);let i=O(0);l(2),m("digitalTicket",i)}}function $e(t,e){if(t&1&&p(0,Ue,2,1)(1,Ve,1,1,"tpl-fami-pass-content",12)(2,Ne,1,1,"tpl-moala-ticket-content",12)(3,qe,3,1,"div",13),t&2){u();let i=O(0);d(i.entity&&i.entity.ticketEntityKind==="qkeys"?0:i.entity&&i.entity.ticketEntityKind==="fami_pass"?1:i.entity&&i.entity.ticketEntityKind==="moala_ticket"?2:i.ticketEntityKind==="blank"?3:-1)}}function je(t,e){if(t&1&&(a(0,"div",19),c(1),n()),t&2){let i=u().$implicit;l(),_(i.seatPlanName)}}function Ke(t,e){if(t&1&&(a(0,"div",4)(1,"div",17)(2,"div",18),c(3),n(),p(4,je,2,1,"div",19),n(),a(5,"div",20)(6,"div",8),c(7),D(8,"customCurrency"),a(9,"span",21),c(10,"\u2715"),n(),c(11),n()()()),t&2){let i=e.$implicit;l(3),_(i.seatName),l(),d(i.seatPlanName?4:-1),l(3),ct(" ",E(8,4,i.unitAmount)," "),l(4),ct(" ",i.quantity,"\u679A ")}}function He(t,e){if(t&1&&(a(0,"div",6)(1,"div",7),c(2,"\u540C\u884C\u8005"),n(),a(3,"div",8)(4,"span",22),c(5),n(),a(6,"span",23),c(7,"\u69D8"),n()()()),t&2){let i=u();l(5),_(i.currentUser().name)}}function We(t,e){if(t&1&&(a(0,"div",6)(1,"div",7),c(2,"\u7533\u8FBC\u8005"),n(),a(3,"div",8)(4,"span",22),c(5),n(),a(6,"span",23),c(7,"\u69D8"),n()()()),t&2){u();let i=O(0);l(3),F("secondary",!i.entitled),l(2),_(i.entitledUserName)}}function Ye(t,e){t&1&&(a(0,"div",6)(1,"div",7),c(2,"\u751F\u5E74\u6708\u65E5"),n(),a(3,"div",8)(4,"div",22),c(5),D(6,"date"),n()()()),t&2&&(l(5),_(W(6,1,e,"yyyy\u5E74M\u6708d\u65E5")))}function Ge(t,e){if(t&1&&(a(0,"div",6)(1,"div",7),c(2),n(),a(3,"div",8),c(4),n()()),t&2){u();let i=O(0);l(2),_(i.extraInfoLabel),l(2),_(i.extraInfoText)}}var ue=(()=>{let e=class e{constructor(){this.digitalTicket=S.required(),this.currentUser=S.required(),this.ticketSeatData=y(()=>{let o=this.digitalTicket();return[...o.seatPlan?[{seatName:o.seat.name,seatPlanName:o.seatPlan.name,quantity:o.quantity,unitAmount:o.amount}]:[],...(o.ticketSeatPlans??[]).map(r=>({seatName:o.seat.name,seatPlanName:r.seatPlan.name,quantity:r.quantity,unitAmount:r.unitAmount}))]})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=C({type:e,selectors:[["tpl-digital-ticket-content"]],inputs:{digitalTicket:[1,"digitalTicket"],currentUser:[1,"currentUser"]},standalone:!0,features:[f],decls:21,vars:9,consts:[[1,"ticket-content"],[1,"error"],[3,"act","name"],[1,"ticket-info-section","seat"],[1,"ticket-seat-group"],[1,"ticket-info-section"],[1,"ticket-info"],[1,"label"],[1,"value"],[1,"expired"],[1,"error-title"],[1,"error-note"],[3,"digitalTicket"],[1,"ticket-inner","state-blank"],[1,"ticket-inner"],[3,"sqrcUrl"],["size","large",3,"digitalTicket"],[1,"ticket-seat"],[1,"seat-name"],[1,"seat-plan-name"],[1,"ticket-amount"],[1,"times"],[1,"value-main"],[1,"value-sub"]],template:function(r,s){if(r&1&&(H(0),a(1,"div",0),p(2,we,3,0,"div",1)(3,Be,5,0,"div",1)(4,Ie,5,1,"div",1)(5,ze,5,0,"div",1)(6,$e,4,1),n(),g(7,"tpl-ticket-act-info",2),a(8,"div",3),z(9,Ke,12,6,"div",4,$),n(),a(11,"div",5),p(12,He,8,1,"div",6)(13,We,8,3,"div",6)(14,Ye,7,4,"div",6)(15,Ge,5,2,"div",6),a(16,"div",6)(17,"div",7),c(18,"\u7BA1\u7406\u756A\u53F7"),n(),a(19,"div",8),c(20),n()()()),r&2){let x,v=Tt(s.digitalTicket());l(2),d(v.expired?2:v.resaleStatus!=="not_listed"?3:v.distributionDirective!=="can_not"&&v.distributionUrl?4:v.distributionDirective==="must"?5:6),l(5),m("act",v.act)("name",v.tour.name),l(2),L(s.ticketSeatData()),l(3),d(v.entitled?-1:12),l(),d(v.distributionEnabled&&!v.entitled||v.entitled?13:-1),l(),d((x=s.currentUser().birthdate)?14:-1,x),l(),d(v.extraInfoLabel&&v.extraInfoText?15:-1),l(5),_(v.ticketNumber)}},dependencies:[k,Q,ce,Xt,Wt,le,ae,se,at,re],styles:["[_nghost-%COMP%]{background:var(--tpl-color-item-background-accent);border:2px solid var(--tpl-color-border);border-radius:var(--tpl-radius);display:block;overflow:hidden}.ticket-content[_ngcontent-%COMP%]{background-color:var(--tpl-color-item-background);padding:16px}.ticket-content[_ngcontent-%COMP%]:empty{display:none}.ticket-inner[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column}.ticket-inner[_ngcontent-%COMP%]   tpl-digital-ticket-distribution-tag[_ngcontent-%COMP%]{margin:0 auto 16px}.ticket-inner.state-blank[_ngcontent-%COMP%]   tpl-digital-ticket-distribution-tag[_ngcontent-%COMP%]{margin:36px auto 4px}.error[_ngcontent-%COMP%]{padding:16px 0}.error-title[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:600;text-align:center}.error-note[_ngcontent-%COMP%]{color:var(--tpl-color-text-light);font-size:1.4rem;margin-top:8px;text-align:center}.expired[_ngcontent-%COMP%]{color:var(--tpl-color-text-light);font-size:1.6rem;font-weight:600;text-align:center}.ticket-info-section[_ngcontent-%COMP%]{border-top:1px solid var(--tpl-color-border);padding:12px 16px}.ticket-info-section.seat[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px 24px}.ticket-seat[_ngcontent-%COMP%]{display:flex;font-size:1.8rem;font-weight:600}.ticket-seat-group[_ngcontent-%COMP%] + .ticket-seat-group[_ngcontent-%COMP%]{margin-top:4px}.seat-plan-name[_ngcontent-%COMP%]{margin-left:8px}.ticket-amount[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{align-items:center;display:flex}.ticket-amount[_ngcontent-%COMP%]   .times[_ngcontent-%COMP%]{font-size:1.3rem;margin:0 4px}.ticket-info[_ngcontent-%COMP%]{align-items:center;display:flex;gap:8px}.ticket-info[_ngcontent-%COMP%] + .ticket-info[_ngcontent-%COMP%]{margin-top:8px}.ticket-info[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--tpl-color-text-light);flex-shrink:0;font-size:1.3rem;font-weight:600;width:6.5em}.ticket-info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{flex:1;min-width:0}.ticket-info[_ngcontent-%COMP%]   .value.secondary[_ngcontent-%COMP%]   .value-main[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:400}.ticket-info[_ngcontent-%COMP%]   .value-main[_ngcontent-%COMP%]{font-size:1.7rem;font-weight:600}.ticket-info[_ngcontent-%COMP%]   .value-sub[_ngcontent-%COMP%]{color:var(--tpl-color-text-light);display:inline-block;font-size:1.1rem;font-weight:500;margin-left:4px}"],changeDetection:0});let t=e;return t})();function Qe(t,e){if(t&1){let i=w();a(0,"div",2)(1,"div",4)(2,"span",5),c(3,"\u30C1\u30B1\u30C3\u30C8\u5206\u914DURL"),n(),a(4,"button",6),P("click",function(){T(i);let r=u(3);return M(r.emitCancel())}),c(5," \u5206\u914D\u53D6\u308A\u6D88\u3057 "),n()(),g(6,"tpl-copyable-content",7),a(7,"p",8),c(8," \u5206\u914DURL\u3092\u540C\u884C\u8005\u306B\u9001\u4FE1\u3057\u3001\u30C1\u30B1\u30C3\u30C8\u306E\u53D7\u3051\u53D6\u308A\u3092\u3054\u4F9D\u983C\u304F\u3060\u3055\u3044 "),g(9,"br"),c(10," \u540C\u884C\u8005\u69D8\u3082\u4F1A\u54E1\u767B\u9332\u3057\u3066\u3044\u305F\u3060\u304F\u5FC5\u8981\u304C\u3054\u3056\u3044\u307E\u3059 "),n()()}if(t&2){let i=u(3);l(6),m("content",i.digitalTicket.distributionUrl)}}function Je(t,e){if(t&1){let i=w();a(0,"div",3)(1,"button",9),P("click",function(){T(i);let r=u(3);return M(r.emitDistribute())}),c(2," \u30C1\u30B1\u30C3\u30C8\u3092\u5206\u914D\u3059\u308B "),n()()}}function Xe(t,e){if(t&1&&p(0,Qe,11,1,"div",2)(1,Je,3,0,"div",3),t&2){let i=u(2);d(i.digitalTicket.distributionUrl?0:1)}}function Ze(t,e){t&1&&(a(0,"div",1),c(1,"\u3053\u306E\u30C1\u30B1\u30C3\u30C8\u306F\u5206\u914D\u3067\u304D\u307E\u305B\u3093"),n())}function ti(t,e){if(t&1&&p(0,Xe,2,1)(1,Ze,2,0,"div",1),t&2){let i=u();d(i.digitalTicket.distributionDirective!=="can_not"&&i.digitalTicket.distributionDirective!=="void"?0:i.digitalTicket.distributionDirective==="can_not"?1:-1)}}function ei(t,e){t&1&&c(0," \u30C1\u30B1\u30C3\u30C8\u3092\u7533\u8FBC\u8005\u306B\u8FD4\u5374\u3059\u308B ")}function ii(t,e){t&1&&c(0," \u30C1\u30B1\u30C3\u30C8\u3092\u540C\u884C\u8005\u306B\u8FD4\u5374\u3059\u308B ")}function ni(t,e){if(t&1){let i=w();a(0,"div",0)(1,"div",3)(2,"button",10),P("click",function(){T(i);let r=u();return M(r.emitReturn())}),p(3,ei,1,0)(4,ii,1,0),n()()()}if(t&2){let i=u();l(3),d(i.digitalTicket.returnTo==="entitled_user"?3:4)}}var de=(()=>{let e=class e{constructor(){this.distribute=new A,this.cancel=new A,this.return=new A}get isEnableResale(){return this.digitalTicket.act.resalePeriodStartsAt&&this.digitalTicket.act.resalePeriodEndsAt}get resalePeriodStatus(){return Ht(this.digitalTicket.act.resalePeriodStartsAt,this.digitalTicket.act.resalePeriodEndsAt)}emitDistribute(){this.distribute.emit(this.digitalTicket)}emitCancel(){this.cancel.emit(this.digitalTicket)}emitReturn(){this.return.emit(this.digitalTicket)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=C({type:e,selectors:[["tpl-digital-ticket-distribution"]],inputs:{digitalTicket:"digitalTicket"},outputs:{distribute:"distribute",cancel:"cancel",return:"return"},standalone:!0,features:[f],decls:2,vars:2,consts:[[1,"return-to"],[1,"distribution-note"],[1,"ticket-distribution"],[1,"action"],[1,"ticket-distribution-title"],[1,"text"],["tpl-button","","color","attention","size","small","buttonType","plain","width","auto","icon","close","iconPosition","left",3,"click"],[3,"content"],[1,"ticket-distribution-note"],["tpl-button","","color","basic-light","buttonType","stroked","icon","arrow-right","width","fixed",3,"click"],["tpl-button","","color","attention","buttonType","plain","width","auto","icon","return","iconPosition","left",3,"click"]],template:function(r,s){r&1&&p(0,ti,2,1)(1,ni,5,1,"div",0),r&2&&(d(s.digitalTicket.distributionEnabled&&s.digitalTicket.resaleStatus==="not_listed"?0:-1),l(),d(s.digitalTicket.returnTo&&s.digitalTicket.resaleStatus==="not_listed"&&(s.digitalTicket.distributionEnabled||s.digitalTicket.returnTo==="original_user"||s.isEnableResale&&s.resalePeriodStatus!=="after")?1:-1))},dependencies:[k,Ut,B],styles:["[_nghost-%COMP%]{display:block}.ticket-distribution-title[_ngcontent-%COMP%]{align-items:center;display:flex;font-size:1.5rem;font-weight:700}.ticket-distribution-title[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{flex:1}.ticket-distribution-note[_ngcontent-%COMP%]{color:var(--tpl-color-text-light);font-size:1.3rem;line-height:1.8;margin-top:16px}.distribution-note[_ngcontent-%COMP%]{color:var(--tpl-color-text-light);font-size:1.4rem;font-weight:500;margin-top:20px;text-align:center}.action[_ngcontent-%COMP%]{margin-top:32px;text-align:center}.return-to[_ngcontent-%COMP%]{margin-top:32px}.return-to[_ngcontent-%COMP%]   button[tpl-button][_ngcontent-%COMP%]{--icon-font-size: 18px}"],changeDetection:0});let t=e;return t})();function oi(t,e){if(t&1&&g(0,"tbx-wysiwyg-body",0),t&2){let i=u();m("body",i.ticket.act.ticketAttentionBody)}}function ai(t,e){if(t&1&&g(0,"tbx-wysiwyg-body",0),t&2){let i=u();m("body",i.ticket.tour.ticketAttentionBody)}}var pe=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=C({type:e,selectors:[["tpl-ticket-note"]],inputs:{ticket:"ticket"},standalone:!0,features:[f],decls:4,vars:6,consts:[[3,"body"]],template:function(r,s){r&1&&(p(0,oi,1,1,"tbx-wysiwyg-body",0),D(1,"isBodyPresent"),p(2,ai,1,1,"tbx-wysiwyg-body",0),D(3,"isBodyPresent")),r&2&&(d(s.ticket.act.ticketAttentionBody&&E(1,2,s.ticket.act.ticketAttentionBody)?0:-1),l(2),d(s.ticket.tour.ticketAttentionBody&&E(3,4,s.ticket.tour.ticketAttentionBody)?2:-1))},dependencies:[k,J,et],styles:["[_nghost-%COMP%]{display:block;font-size:1.4rem;font-weight:500;line-height:1.75}tbx-wysiwyg-body[_ngcontent-%COMP%] + tbx-wysiwyg-body[_ngcontent-%COMP%]{margin-top:16px}"],changeDetection:0});let t=e;return t})();function ri(t,e){if(t&1&&(a(0,"div",6),g(1,"tbx-wysiwyg-body",9),n()),t&2){let i=u();l(),m("body",i.tour.ticketCautionBody)}}function ci(t,e){if(t&1&&g(0,"tpl-digital-ticket-content",7),t&2){let i=u();m("digitalTicket",i)("currentUser",e)}}function li(t,e){if(t&1){let i=w();a(0,"tpl-digital-ticket-distribution",10),P("distribute",function(){T(i);let r=u(3);return M(r.startDistribute())})("cancel",function(){T(i);let r=u(3);return M(r.cancelDistribution())})("return",function(r){T(i);let s=u(3);return M(s.returnTicket(r))}),n()}if(t&2){let i=u();m("digitalTicket",i)}}function si(t,e){if(t&1&&(p(0,ri,2,1,"div",6),D(1,"isBodyPresent"),p(2,ci,1,2,"tpl-digital-ticket-content",7)(3,li,1,1,"tpl-digital-ticket-distribution",8),g(4,"tpl-ticket-note",5)),t&2){let i,o=e,r=u(2);d(o.tour.ticketCautionBody&&E(1,4,o.tour.ticketCautionBody)?0:-1),l(2),d((i=r.currentUser$())?2:-1,i),l(),d(o.expired?-1:3),l(),m("ticket",o)}}function ui(t,e){if(t&1&&(p(0,si,5,6,"tpl-ticket-note",5),D(1,"async")),t&2){let i,o=u();d((i=E(1,1,o.ticket$))?0:-1,i)}}function di(t,e){t&1&&(a(0,"tpl-empty-state"),c(1,"\u30C1\u30B1\u30C3\u30C8\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3067\u3057\u305F"),n())}function pi(t,e){if(t&1&&(a(0,"tpl-empty-state"),c(1),n()),t&2){let i=u(2);l(),_(i.errorMessage)}}function mi(t,e){if(t&1&&p(0,di,2,0,"tpl-empty-state")(1,pi,2,1,"tpl-empty-state"),t&2){let i=u();d(i.errorResponse&&i.errorResponse.status===404?0:-1),l(),d(i.errorResponse&&i.errorResponse.status!==404?1:-1)}}var me=(()=>{let e=class e{constructor(){this.store=h(it),this.ticketService=h(nt),this.ticketUsecase=h(te),this.apiErrorResponseService=h(zt)}get errorMessage(){let o="\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F\u3002";return this.errorResponse?this.apiErrorResponseService.getErrorMessageFromResponse(this.errorResponse)??o:o}ngOnInit(){this.ticket$=this.store.select(Zt(this.ticketId)).pipe(Et()),this.fetchTicketById$=this.ticketService.fetchDigitalTicketById(this.ticketId),this.currentUser$=this.store.selectSignal(Yt)}startDistribute(){return ut(this,null,function*(){(yield this.ticketUsecase.startTicketDistribution(this.ticketId))&&window.scrollTo({top:0,left:0,behavior:"smooth"})})}cancelDistribution(){this.ticketUsecase.cancelTicketDistribution(this.ticketId)}returnTicket(o){this.ticketUsecase.returnTicket(o)}onErrorCaptured(o){this.errorResponse=o}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=C({type:e,selectors:[["page-digital-ticket-detail"]],inputs:{ticketId:"ticketId"},standalone:!0,features:[f],decls:7,vars:2,consts:[["Error",""],[1,"page-content"],[3,"errorCaptured","tbxSuspense","tbxSuspenseError"],[1,"back"],["tpl-button","","buttonType","plain","width","auto","size","small","icon","arrow-left","iconPosition","left","routerLink","/mypage/tickets","color","basic",1,"plain-button","size-small"],[3,"ticket"],[1,"ticket-top-caution"],[3,"digitalTicket","currentUser"],[3,"digitalTicket"],[3,"body"],[3,"distribute","cancel","return","digitalTicket"]],template:function(r,s){if(r&1){let x=w();a(0,"div",1),p(1,ui,2,3,"ng-template",2),P("errorCaptured",function(ve){return T(x),M(s.onErrorCaptured(ve))}),a(2,"div",3)(3,"button",4),c(4," \u4E00\u89A7\u3078\u623B\u308B "),n()()(),p(5,mi,2,2,"ng-template",null,0,Mt)}if(r&2){let x=ht(6);l(),m("tbxSuspense",s.fetchTicketById$)("tbxSuspenseError",x)}},dependencies:[k,G,U,X,B,pe,ue,de,Z,et,J],styles:["tpl-digital-ticket-content[_ngcontent-%COMP%]{margin:0 auto;max-width:480px}tpl-digital-ticket-distribution[_ngcontent-%COMP%]{margin-top:32px}tpl-ticket-note[_ngcontent-%COMP%]{margin:40px 12px 0}.back[_ngcontent-%COMP%]{display:grid;justify-content:center;margin-top:76px}.back[_ngcontent-%COMP%]   [tpl-button][_ngcontent-%COMP%]{width:auto}.ticket-top-caution[_ngcontent-%COMP%]{margin-bottom:24px}"]});let t=e;return t})();function ge(t){let e=new Date,i=t.act.performanceDate;return V(e,i)?"today":Kt(e,i)?"future":"passed"}function gi(t,e){if(t&1&&(a(0,"div",8),c(1),n()),t&2){let i=u();l(),_(i.ticket.seatPlan.name)}}function Ci(t,e){t&1&&(a(0,"div",9),c(1,"\u30D5\u30A1\u30DF\u30EA\u30FC\u30DE\u30FC\u30C8\u3067\u306E\u53D7\u53D6"),n())}function fi(t,e){t&1&&(a(0,"div",9),c(1,"MOALA Ticket \u3067\u306E\u53D7\u53D6"),n())}function _i(t,e){t&1&&(a(0,"div",12),c(1,"\u51FA\u54C1\u4E2D"),n())}function ki(t,e){t&1&&(a(0,"div",13),c(1,"\u5206\u914D\u4E0D\u53EF"),n())}function xi(t,e){t&1&&(a(0,"div",14),c(1,"\u5206\u914D\u4E2D"),n())}function vi(t,e){t&1&&(a(0,"div",15),c(1,"\u5206\u914D\u304C\u5FC5\u8981\u3067\u3059"),n())}function hi(t,e){t&1&&(a(0,"div",16),c(1,"\u672A\u5206\u914D"),n())}function bi(t,e){if(t&1&&p(0,_i,2,0,"div",12)(1,ki,2,0,"div",13)(2,xi,2,0,"div",14)(3,vi,2,0,"div",15)(4,hi,2,0,"div",16),t&2){let i=u();d(i.ticket.resaleStatus==="listed"?0:i.ticket.distributionDirective==="can_not"?1:i.ticket.distributionUrl?2:i.ticket.distributionDirective==="must"?3:i.ticket.distributionDirective==="should"?4:-1)}}var Ce=(()=>{let e=class e{set digitalTicket(o){this.ticket=o,this.status=ge(o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=C({type:e,selectors:[["tpl-digital-ticket-item"]],inputs:{digitalTicket:"digitalTicket"},standalone:!0,features:[f],decls:17,vars:8,consts:[["tpl-tappable","",1,"ticket",3,"ngClass"],[1,"ticket-inner"],[1,"name"],[1,"venue"],[1,"act-time",3,"act"],[1,"tag"],[1,"ticket-seat"],[1,"seat-name"],[1,"seat-plan-name"],[1,"ticket-kind"],[1,"arrow"],["name","arrow-right",1,"arrow-icon"],[1,"ticket-resale-listed"],[1,"ticket-distribution-can-not"],[1,"ticket-distribution"],[1,"ticket-distribution-must"],[1,"ticket-distribution-should"]],template:function(r,s){if(r&1&&(a(0,"div",0)(1,"div",1)(2,"div",2),c(3),n(),a(4,"div",3),c(5),n(),g(6,"tpl-reception-act-time",4),a(7,"div",5)(8,"div",6)(9,"div",7),c(10),n(),p(11,gi,2,1,"div",8),n(),p(12,Ci,2,0,"div",9)(13,fi,2,0,"div",9)(14,bi,5,1),n()(),a(15,"div",10),g(16,"tbx-icon",11),n()()),r&2){let x;m("ngClass",s.status),l(3),_(s.ticket.tour.name),l(2),_(s.ticket.act.venue),l(),m("act",s.ticket.act),l(4),_(s.ticket.seat.name),l(),d(s.ticket.seatPlan?11:-1),l(),d((x=s.ticket.ticketEntityKind)==="fami_pass"?12:x==="moala_ticket"?13:-1),l(2),d(s.ticket.expired?-1:14)}},dependencies:[k,R,St,$t,Jt],styles:["[_nghost-%COMP%]{display:block;margin-top:12px}[_nghost-%COMP%]:first-child{margin-top:0}.ticket[_ngcontent-%COMP%]{background-color:var(--background);border-radius:var(--tpl-radius);box-shadow:0 4px 4px #00000040;color:var(--color);cursor:pointer;display:flex;transition:.2s ease}.ticket.today[_ngcontent-%COMP%]{--background: var(--tpl-color-primary);--color: var(--tpl-color-primary-contrast)}.ticket.today[_ngcontent-%COMP%]   .ticket-seat[_ngcontent-%COMP%], .ticket.today[_ngcontent-%COMP%]   .ticket-distribution[_ngcontent-%COMP%], .ticket.today[_ngcontent-%COMP%]   .ticket-resale-listed[_ngcontent-%COMP%]{background:var(--tpl-color-item-background);color:var(--tpl-color-text)}.ticket.today[_ngcontent-%COMP%]   .ticket-distribution-must[_ngcontent-%COMP%]{background-color:var(--tpl-color-item-background);color:var(--tpl-color-attention)}.ticket.today[_ngcontent-%COMP%]   .ticket-distribution-can-not[_ngcontent-%COMP%]{background-color:var(--tpl-color-item-background);color:var(--tpl-color-text-light)}.ticket.today[_ngcontent-%COMP%]   .ticket-distribution-should[_ngcontent-%COMP%]{background-color:var(--tpl-color-item-background);color:var(--tpl-color-primary)}.ticket.today[_ngcontent-%COMP%]   .act-time[_ngcontent-%COMP%]{color:var(--tpl-color-background-accent)}.ticket.today[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{border-color:rgba(var(--tpl-color-border-rgb),.5)}.ticket.today[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{color:var(--color)}.ticket.future[_ngcontent-%COMP%]{--background: var(--tpl-color-item-background);--color: var(--tpl-color-text);border:2px solid var(--tpl-color-border)}.ticket.future[_ngcontent-%COMP%]   .ticket-seat[_ngcontent-%COMP%]{background:var(--tpl-color-accent);border:2px solid var(--tpl-color-accent);color:var(--tpl-color-accent-contrast)}.ticket.future[_ngcontent-%COMP%]   .ticket-distribution[_ngcontent-%COMP%]{border:2px solid var(--tpl-color-border);color:var(--tpl-color-text)}.ticket.future[_ngcontent-%COMP%]   .ticket-distribution-must[_ngcontent-%COMP%]{background-color:var(--tpl-color-attention);border:2px solid var(--tpl-color-attention);color:var(--tpl-color-attention-contrast)}.ticket.future[_ngcontent-%COMP%]   .ticket-distribution-should[_ngcontent-%COMP%]{border:2px solid var(--tpl-color-primary);color:var(--tpl-color-primary)}.ticket.future[_ngcontent-%COMP%]   .ticket-distribution-can-not[_ngcontent-%COMP%]{border:2px solid var(--tpl-color-border);color:var(--tpl-color-text-light)}.ticket.future[_ngcontent-%COMP%]   .ticket-resale-listed[_ngcontent-%COMP%]{border:2px solid var(--tpl-color-accent);color:var(--tpl-color-accent)}.ticket.passed[_ngcontent-%COMP%]{--background: var(--tpl-color-item-background-accent);--color: var(--tpl-color-text);box-shadow:none}.ticket.passed[_ngcontent-%COMP%]   .ticket-seat[_ngcontent-%COMP%]{background:var(--tpl-color-accent);border:2px solid var(--tpl-color-accent);color:var(--tpl-color-accent-contrast)}.ticket-inner[_ngcontent-%COMP%]{flex:1;min-width:0;padding:12px 16px}.name[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;line-height:1.4}.venue[_ngcontent-%COMP%]{font-size:1.9rem;font-weight:400;margin-top:4px}.act-time[_ngcontent-%COMP%]{margin-top:4px}.ticket-seat[_ngcontent-%COMP%]{display:inline-flex;font-size:1.4rem;font-weight:700;padding:4px 16px}.ticket-seat[_ngcontent-%COMP%]   .seat-plan-name[_ngcontent-%COMP%]{margin-left:8px}.ticket-seat[_ngcontent-%COMP%]   .seat-plan-name[_ngcontent-%COMP%]:empty{display:none}.tag[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px;margin-top:12px}.ticket-distribution[_ngcontent-%COMP%], .ticket-distribution-must[_ngcontent-%COMP%], .ticket-distribution-can-not[_ngcontent-%COMP%], .ticket-distribution-should[_ngcontent-%COMP%], .ticket-resale-listed[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;margin-left:4px;padding:4px 16px}.ticket-kind[_ngcontent-%COMP%]{background-color:var(--tpl-color-item-background);color:var(--tpl-color-text);display:inline-block;font-size:1.4rem;font-weight:700;padding:4px 16px}.future[_ngcontent-%COMP%]   .ticket-kind[_ngcontent-%COMP%]{border:2px solid var(--tpl-color-border)}.arrow[_ngcontent-%COMP%]{align-items:center;border-left:1px solid var(--tpl-color-border);display:flex;padding:16px}.arrow-icon[_ngcontent-%COMP%]{color:var(--tpl-color-text-light);font-size:12px}"],changeDetection:0});let t=e;return t})();function fe(t,e){if(t<1)return!0;let i=e[t-1].act.performanceDate,o=e[t].act.performanceDate;return!V(i,o)}function yi(t,e){t&1&&(a(0,"div",2),c(1,"\u672C\u65E5\u958B\u50AC"),n())}var _e=(()=>{let e=class e{set date(o){this.displayDate=o,this.status=this.getStatus()}getStatus(){let o=new Date;return V(o,this.displayDate)?"today":jt(o,this.displayDate)?"passed":"future"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=C({type:e,selectors:[["tpl-ticket-date-divider"]],inputs:{date:"date"},standalone:!0,features:[f],decls:5,vars:6,consts:[[1,"heading",3,"ngClass"],[1,"date"],[1,"today-tag"]],template:function(r,s){r&1&&(a(0,"div",0)(1,"div",1),c(2),D(3,"date"),n(),p(4,yi,2,0,"div",2),n()),r&2&&(m("ngClass",s.status),l(2),_(W(3,3,s.displayDate,"yyyy\u5E74M\u6708d\u65E5(E)")),l(2),d(s.status==="today"?4:-1))},dependencies:[k,R,Q],styles:['[_nghost-%COMP%]{display:block}.heading[_ngcontent-%COMP%]{align-items:center;display:flex;font-size:1.9rem}.heading[_ngcontent-%COMP%]:before{background-color:var(--color);border-radius:0 8px 8px 0;content:"";height:12px;margin-right:8px;width:16px}.heading.today[_ngcontent-%COMP%]{--color: var(--tpl-color-primary)}.heading.passed[_ngcontent-%COMP%]{--color: var(--tpl-color-text-light)}.heading.future[_ngcontent-%COMP%]{--color: var(--tpl-color-accent)}.date[_ngcontent-%COMP%]{flex:1;min-width:0}.today-tag[_ngcontent-%COMP%]{background-color:var(--tpl-color-primary);color:var(--tpl-color-primary-contrast);font-size:1.3rem;font-weight:700;padding:4px 12px}'],changeDetection:0});let t=e;return t})();var Di=(t,e)=>e.id;function Ti(t,e){if(t&1&&g(0,"tpl-ticket-date-divider",1),t&2){let i=u().$implicit;m("date",i.act.performanceDate)}}function Mi(t,e){if(t&1&&(p(0,Ti,1,1,"tpl-ticket-date-divider",1),g(1,"tpl-digital-ticket-item",0)),t&2){let i=e.$implicit,o=e.$index,r=u(2);d(r.isFirstOfDate(o,r.digitalTickets)?0:-1),l(),m("digitalTicket",i)("routerLink",i.id)}}function Pi(t,e){if(t&1&&z(0,Mi,2,3,"tpl-digital-ticket-item",0,Di),t&2){let i=u();L(i.digitalTickets)}}function Si(t,e){if(t&1&&(a(0,"tpl-empty-state"),c(1),n()),t&2){let i=u();l(),_(i.emptyMessage)}}var ke=(()=>{let e=class e{constructor(){this.isFirstOfDate=fe}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=C({type:e,selectors:[["tpl-digital-ticket-list"]],inputs:{digitalTickets:"digitalTickets",emptyMessage:"emptyMessage"},standalone:!0,features:[f],decls:2,vars:1,consts:[[3,"digitalTicket","routerLink"],[3,"date"]],template:function(r,s){r&1&&p(0,Pi,2,0)(1,Si,2,1,"tpl-empty-state"),r&2&&d(s.digitalTickets.length>0?0:1)},dependencies:[k,U,_e,Ce,Z],styles:["tpl-ticket-date-divider[_ngcontent-%COMP%]{margin-bottom:12px;margin-left:-24px}tpl-digital-ticket-item[_ngcontent-%COMP%] + tpl-ticket-date-divider[_ngcontent-%COMP%]{margin-top:40px}"],changeDetection:0});let t=e;return t})();function Oi(t,e){if(t&1){let i=w();g(0,"tpl-digital-ticket-list",9),a(1,"tbx-infinite-scroll",10),P("infiniteScroll",function(r){T(i);let s=u(2);return M(s.loadNext(r))}),g(2,"tpl-loader-block"),n()}if(t&2){let i=e,o=u(2);m("digitalTickets",i)("emptyMessage",o.emptyTicketMessages[o.currentStatus]),l(),m("disabled",i.length===0)}}function Ei(t,e){if(t&1&&(xt(0),p(1,Oi,3,3),D(2,"async"),vt()),t&2){let i,o=u();l(),d((i=E(2,1,o.ticketsByStatus[o.currentStatus]))?1:-1,i)}}var xe=(()=>{let e=class e{constructor(){this.currentStatus="active",this.emptyTicketMessages={active:"\u6709\u52B9\u306A\u30C1\u30B1\u30C3\u30C8\u306F\u3042\u308A\u307E\u305B\u3093",expired:"\u6709\u52B9\u671F\u9650\u5207\u308C\u306E\u30C1\u30B1\u30C3\u30C8\u306F\u3042\u308A\u307E\u305B\u3093"},this.store=h(it),this.digitalTicketService=h(nt),this.loading=!1,this.ticketsByStatus={active:this.store.select(st("active")),expired:this.store.select(st("expired"))},this.fetchTicketsByStatus={active:this.digitalTicketService.fetchDigitalTickets({status:"active",init:!0}),expired:this.digitalTicketService.fetchDigitalTickets({status:"expired",init:!0})}}loadNext(o){if(this.digitalTicketService.ticketPages[this.currentStatus].isComplete){o.complete();return}this.loading||(this.loading=!0,this.digitalTicketService.fetchDigitalTickets({status:this.currentStatus,init:!1}).subscribe({next:()=>{this.loading=!1,o.complete()},error:()=>{this.loading=!1,o.complete()}}))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=C({type:e,selectors:[["page-digital-ticket-list"]],standalone:!0,features:[f],decls:20,vars:2,consts:[["routerLink","/"],["routerLink","/mypage"],[1,"page-content"],[1,"header"],["position","center","color","accent",3,"ngModelChange","ngModel"],["key","active"],["key","expired"],[1,"list"],[4,"tbxSuspense"],[3,"digitalTickets","emptyMessage"],[3,"infiniteScroll","disabled"]],template:function(r,s){r&1&&(a(0,"tpl-breadcrumb")(1,"tpl-breadcrumb-item")(2,"a",0),c(3,"TICKET"),n()(),a(4,"tpl-breadcrumb-item")(5,"a",1),c(6,"\u30DE\u30A4\u30DA\u30FC\u30B8"),n()(),a(7,"tpl-breadcrumb-item")(8,"span"),c(9,"\u30C1\u30B1\u30C3\u30C8\u4E00\u89A7"),n()()(),a(10,"div",2)(11,"div",3)(12,"tpl-tab-group",4),Dt("ngModelChange",function(v){return yt(s.currentStatus,v)||(s.currentStatus=v),v}),a(13,"tpl-tab-item",5),c(14,"\u30C1\u30B1\u30C3\u30C8\u4E00\u89A7"),n(),a(15,"tpl-tab-item",6),c(16,"\u4F7F\u7528\u6E08\u307F"),n()()(),a(17,"div",7),p(18,Ei,3,3,"ng-container",8),n(),g(19,"tpl-mypage-back-button"),n()),r&2&&(l(12),bt("ngModel",s.currentStatus),l(6),m("tbxSuspense",s.fetchTicketsByStatus[s.currentStatus]))},dependencies:[k,G,It,Ft,At,U,X,Rt,Lt,ke,ot,ne,Qt,Ot,wt],styles:["tpl-breadcrumb[_ngcontent-%COMP%]{margin:-32px -24px 0}.header[_ngcontent-%COMP%]{border-bottom:1px solid var(--tpl-color-border);margin:0 -24px}.list[_ngcontent-%COMP%]{margin-top:24px}"]});let t=e;return t})();var wi=[{path:"",providers:[ee()],children:[{path:"",component:xe},{path:":ticketId",component:me}]}],fa=wi;export{fa as default,wi as digitalTicketRoutes};
//# sourceMappingURL=chunk-MGYY6YJE.js.map
