import{a as G,b as W}from"./chunk-GQ2Y3PYG.js";import{a as Q}from"./chunk-ZNRADN3H.js";import{c as H,g as S,h as v,i as g,j as I,k as Z,l as q,n as C,o as J}from"./chunk-264EOGRT.js";import{$a as m,Aa as c,Cc as z,Eb as j,Hb as h,Ib as N,Jb as D,Qa as y,S as x,Sa as b,Vc as K,W as u,Wa as E,Xc as L,_ as a,_a as p,_c as U,ab as M,ba as _,bb as A,cb as B,fc as $,gc as k,ib as O,ic as F,lc as T,qc as R,tb as l,ub as w}from"./chunk-I424EGRW.js";var X=(()=>{let e=class e{constructor(){this.baseUrl="v1/public/news_items",this.http=a(R)}fetchNews({page:n,perPage:i,boothSlug:s}){let o=new T().set("page",n.toString()).set("per_page",i.toString());return s&&(o=o.set("booth_slug",s)),this.http.get(this.baseUrl,{params:o})}fetchNewsItemById(n){return this.http.get(`${this.baseUrl}/${n}`)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=u({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var P="news",re=S("[News] Set News",v()),se=S("[News] Set News Item",v()),f={setNews:re,setNewsItem:se},d=Q(),ae=d.getInitialState(),pe=J(ae,C(f.setNews,(t,{news:e,init:r})=>r?d.setAll(e,t):d.addMany(e,t)),C(f.setNewsItem,(t,{newsItem:e})=>d.upsertOne(e,t)));function Y(t,e){return pe(t,e)}var{selectEntities:me,selectAll:ce}=d.getSelectors(),ee=Z(P),Ne=I(ee,ce),le=I(ee,me),te=t=>I(le,e=>e[t]);var ne=(()=>{let e=class e{constructor(){this.newsPage=new H(50),this.store=a(g),this.newsApi=a(X)}fetchNews({init:n,boothSlug:i}={init:!0}){let s=n?1:this.newsPage.page+1;return this.newsApi.fetchNews({boothSlug:i,page:s,perPage:this.newsPage.pageSize}).pipe(x(o=>{this.store.dispatch(f.setNews({news:o,init:n})),this.newsPage.page=s,this.newsPage.setPage(o)}))}fetchNewsItemById(n){return this.newsApi.fetchNewsItemById(n).pipe(x(i=>{this.store.dispatch(f.setNewsItem({newsItem:i}))}))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=u({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fe(t,e){if(t&1&&(p(0,"div",3)(1,"h2",4),l(2),m(),p(3,"time",5),l(4),h(5,"date"),m()(),p(6,"div",6),M(7,"tbx-wysiwyg-body",7),m()),t&2){let r=e;c(2),w(r.name),c(2),w(D(5,3,r.publishedAt,"yyyy/MM/dd")),c(3),b("body",r.body)}}function ue(t,e){if(t&1&&(A(0),y(1,fe,8,6),h(2,"async"),B()),t&2){let r,n=O();c(),E((r=N(2,1,n.newsItem$))?1:-1,r)}}var ie=(()=>{let e=class e{constructor(){this.store=a(g),this.newsService=a(ne)}ngOnInit(){this.newsItem$=this.store.select(te(this.newsItemId)).pipe(U()),this.fetchNewsItem$=this.newsService.fetchNewsItemById(this.newsItemId)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=_({type:e,selectors:[["page-news-detail"]],inputs:{newsItemId:[0,"id","newsItemId"]},standalone:!0,features:[j],decls:13,vars:4,consts:[["routerLink","/"],[1,"page-content"],[4,"tbxSuspense"],[1,"head"],[1,"title"],[1,"date"],[1,"body"],[3,"body"]],template:function(i,s){if(i&1&&(p(0,"tpl-breadcrumb")(1,"tpl-breadcrumb-item")(2,"a",0),l(3,"TICKET"),m()(),p(4,"tpl-breadcrumb-item")(5,"span"),l(6,"\u304A\u77E5\u3089\u305B"),m()(),p(7,"tpl-breadcrumb-item")(8,"span"),l(9),h(10,"async"),m()()(),p(11,"div",1),y(12,ue,3,3,"ng-container",2),m()),i&2){let o;c(9),w((o=N(10,2,s.newsItem$))==null?null:o.name),c(3),b("tbxSuspense",s.fetchNewsItem$)}},dependencies:[F,$,k,z,L,K,W,G],styles:["tpl-breadcrumb[_ngcontent-%COMP%]{margin:-32px -24px 0}.page-content[_ngcontent-%COMP%]{margin-top:32px}.head[_ngcontent-%COMP%]{margin-bottom:32px}.title[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:700;margin-bottom:4px}.date[_ngcontent-%COMP%]{color:var(--tpl-color-text-light);font-size:1.2rem;font-weight:400}.back[_ngcontent-%COMP%]{display:grid;justify-content:center;margin-top:76px}.back[_ngcontent-%COMP%]   [tpl-button][_ngcontent-%COMP%]{width:auto}"]});let t=e;return t})();function oe(){return[q(P,Y)]}var we=[{path:"",providers:[oe()],children:[{path:":id",component:ie}]}],Xe=we;export{Ne as a,ne as b,oe as c,we as d,Xe as e};
//# sourceMappingURL=chunk-TZWJ3GWP.js.map
